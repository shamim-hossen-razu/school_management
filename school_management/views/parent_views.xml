<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="parent_form_general_view" model="ir.ui.view">
        <field name="name">Parent Form</field>
        <field name="model">school_management.parent</field>
        <field name="priority" eval="13"/>
        <field name="arch" type="xml">
            <form string="Parent">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="email"/>
                    </group>
                    <notebook>
                        <page string="Children">
                            <field name="child_ids">
                                <tree>
                                    <field name="name"/>
                                    <field name="age"/>
                                    <field name="standard"/>
                                </tree>
                            </field>
                        </page>

                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="parent_form_regular_view" model="ir.ui.view">
        <field name="name">Parent Form Regular</field>
        <field name="model">school_management.parent</field>
        <field name="priority" eval="15"/>
        <field name="arch" type="xml">
            <form string="Parent">
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="email"/>
                        </group>
                        <group>
                            <field name="occupation"/>
                            <field name="age"/>
                        </group>
                    </group>

                </sheet>
            </form>
        </field>
    </record>


    <!-- only required field to define window actions-->
    <!-- Though type was a required field but it is redefined with default value-->
    <record id="school_management_parent_action" model="ir.actions.act_window">
        <field name="name">Parent</field>
        <field name="res_model">school_management.parent</field>
        <field name="view_mode">form</field>
        <field name="res_id">1</field>
        <field name="binding_model_id" ref="school_management.model_school_management_student"/>
        <field name="binding_type">action</field>
        <field name="target">current</field>
<!--        <field name="view_ids" eval="[(5, 0, 0),-->
<!--               (0, 0, {'view_mode': 'form', 'view_id': ref('school_management.parent_form_regular_view')})]"/>-->
    </record>

    <record model="ir.actions.act_window.view" id="parent_form_special">
        <field name="view_mode">form</field>
        <field name="view_id" ref="parent_form_general_view"/>
        <field name="act_window_id" ref="school_management_parent_action"/>
    </record>

    <menuitem id="school_management_parent_menu" name="Parent" parent="school_management_menu"
              action="school_management_parent_action" sequence="60"/>
</odoo>